# ğŸ¬ MiniStory-AI Director Platform

**An AI-powered short film generation platform with character consistency and location consistency using cutting-edge AI models**

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Python](https://img.shields.io/badge/python-3.8+-green.svg)
![Streamlit](https://img.shields.io/badge/streamlit-1.28+-red.svg)

## ğŸŒŸ Overview

MiniStory-AI is an innovative AI director platform that transforms story ideas into complete short films with consistent characters, locations, and professional video production. The platform leverages state-of-the-art AI models including **Nano Banana** for image generation, **Veo3** for video creation, and **ElevenLabs** for voice design to create cinematic experiences.

### âœ¨ Key Features

- **ğŸ­ Character Consistency**: AI-generated characters with consistent appearance across all scenes
- **ğŸ¢ Location Consistency**: Coherent location designs maintained throughout the film
- **ğŸ¬ Intelligent Script Planning**: Automated scene breakdown and shot planning
- **ğŸ¥ Cinematic Video Generation**: Professional-quality video creation with proper cinematography
- **ğŸ™ï¸ Voice Design**: Custom voice generation and intelligent character-voice matching
- **ğŸ“± User-Friendly Interface**: Streamlit-based web interface for easy project management
- **ğŸ’¾ Session Management**: Project persistence with comprehensive data tracking

## ğŸ—ï¸ System Architecture

```
MiniStory-AI Platform
â”œâ”€â”€ Script Planning Engine (GPT-4)
â”œâ”€â”€ Character Generation Pipeline (Nano Banana + GPT-4)
â”œâ”€â”€ Location Generation System (Nano Banana + Gemini)
â”œâ”€â”€ Scene Creation Engine (Gemini + Veo3)
â”œâ”€â”€ Voice Design Studio (ElevenLabs + GPT-4)
â””â”€â”€ Video Assembly Manager (FFmpeg + Custom Logic) [pending]
```

### ğŸ”§ Core Components

1. **Script Formatter**: Converts raw scripts into structured scene and shot data
2. **Character Generator**: Creates consistent character images and profiles
3. **Location Generator**: Designs and renders film locations
4. **Scene Creator**: Generates individual scene videos with proper cinematography
5. **Audio Generator**: Handles voice synthesis and audio mixing
6. **Video Assembler**: Combines all elements into final film

## ğŸš€ Quick Start

### Prerequisites

- Python 3.8+
- API Keys for:
  - OpenAI (GPT-4)
  - Google Gemini
  - ElevenLabs
  - FAL

### Installation

1. **Clone the repository**
   ```bash
   git clone <repository-url>
   cd story_generator
   ```

2. **Install dependencies**
   ```bash
   pip install -r requirement.txt
   ```

3. **Set up environment variables**
   ```bash
   cp .env.example .env
   # Edit .env file with your API keys
   ```

4. **Required API Keys in .env file:**
   ```env
   OPENAI_API_KEY=your_openai_api_key
   GEMINI_API_KEY=your_gemini_api_key
   ELEVENLABS_API_KEY=your_elevenlabs_api_key
   FAL_KEY=your_fal_api_key
   ```

### Running the Application

```bash
# Method 1: Using the launcher script
python run_app.py

# Method 2: Direct Streamlit execution
streamlit run app.py --server.port 8501
```

The application will open in your browser at `http://localhost:8501`

## ğŸ“‹ Production Workflow

### Step 1: Script Planning ğŸ“
- Input your story idea or raw script
- AI analyzes and structures scenes
- Generates shot breakdowns with camera angles
- Extracts characters and locations

### Step 2: Character Generation ğŸ­
- AI creates character profiles and descriptions
- Generates consistent character images using Nano Banana
- Maintains visual consistency across all scenes
- Assigns appropriate voice profiles

### Step 3: Location Generation ğŸ¢
- Extracts locations from script
- Generates location images with proper lighting and atmosphere
- Ensures visual consistency throughout the film
- Creates reference images for scene generation

### Step 4: Scene Creation ğŸ¥
- Generates individual scene videos using Veo3
- Maintains character and location consistency
- Applies proper cinematography and lighting
- Creates scene-specific narration and dialogue

### Step 5: Voice Design & Audio ğŸ™ï¸
- Generates custom voices using ElevenLabs
- Intelligent character-voice matching
- Creates narration and dialogue audio
- Handles background music and sound effects

### Step 6: Video Assembly ğŸ¬
- **[PENDING IMPLEMENTATION]** - Final video assembly system
- Combines all scene videos into complete film
- Adds transitions and effects
- Integrating Voice for each character and automated editing
- Exports final production-ready video

## ğŸ“ Project Structure

```
story_generator/
â”œâ”€â”€ app.py                          # Main Streamlit application
â”œâ”€â”€ run_app.py                      # Application launcher
â”œâ”€â”€ project_manager.py              # Project session management
â”œâ”€â”€ pipeline_steps.py               # Core pipeline logic
â”‚
â”œâ”€â”€ script_planning/                # Script analysis and formatting
â”‚   â”œâ”€â”€ script_formater.py         # Scene structure generation
â”‚   â””â”€â”€ shot_formater.py           # Shot breakdown and planning
â”‚
â”œâ”€â”€ character_generation/           # Character creation pipeline
â”‚   â””â”€â”€ character_generator.py     # Character image generation
â”‚
â”œâ”€â”€ location_generation/            # Location design system
â”‚   â””â”€â”€ location_generator.py      # Location image generation
â”‚
â”œâ”€â”€ scene_creation/                 # Scene video generation
â”‚   â”œâ”€â”€ scene_creator.py           # Scene orchestration
â”‚   â”œâ”€â”€ scene_image_generator.py   # Scene image creation
â”‚   â””â”€â”€ scene_video_generator.py   # Video generation with Veo3
â”‚
â”œâ”€â”€ video_editing/                  # Audio and video processing
â”‚   â”œâ”€â”€ audio_generator.py         # Voice and audio synthesis
â”‚   â”œâ”€â”€ dialog_mapper.py           # Dialogue mapping
â”‚   â”œâ”€â”€ intelligent_voice_matcher.py # AI voice assignment
â”‚   â”œâ”€â”€ video_assembler.py         # Video compilation
â”‚   â””â”€â”€ voice_design/
â”‚       â””â”€â”€ generate_voice_id.py   # Custom voice creation
â”‚
â”œâ”€â”€ models/                         # Data models and schemas
â”‚   â””â”€â”€ pydantic_model.py          # Type definitions
â”‚
â”œâ”€â”€ utils/                          # Utility functions
â”‚   â””â”€â”€ llm.py                     # LLM provider management
â”‚
â””â”€â”€ data/                          # Generated project data
    â””â”€â”€ [project_sessions]/        # Individual project outputs
```

## ğŸ¤– AI Models Integration

### Text Generation
- **GPT-4 (OpenAI)**: Script analysis, character development, scene planning
- **Gemini (Google)**: Scene description generation, visual prompting

### Image Generation
- **Nano Banana (FAL)**: Character and location image generation
- **Gemini Vision**: Image analysis and reference processing

### Video Generation
- **Veo3**: High-quality scene video generation with cinematography

### Voice Synthesis
- **ElevenLabs**: Custom voice generation and character voice matching

## ğŸ¯ Current Status

### âœ… Completed Features
- âœ… Script planning and scene breakdown
- âœ… Character generation with consistency
- âœ… Location generation and design
- âœ… Scene image creation
- âœ… Voice design and synthesis
- âœ… Project session management
- âœ… Streamlit web interface

### ğŸš§ In Development
- ğŸš§ Scene video generation optimization
- ğŸš§ Audio-video synchronization
- ğŸš§ Advanced cinematography controls

### ğŸ“‹ Pending Implementation
- â³ **Final video assembly system** - The complete video compilation pipeline
- â³ Advanced editing features (transitions, effects)
- â³ Batch processing capabilities
- â³ Export format options (MP4, MOV, etc.)

## ğŸ”§ Configuration

### Environment Variables
```env
# OpenAI Configuration
OPENAI_API_KEY=your_openai_key

# Google Gemini Configuration  
GEMINI_API_KEY=your_gemini_key

# ElevenLabs Configuration
ELEVENLABS_API_KEY=your_elevenlabs_key

# FAL for veo3
FAL_KEY=your_fal_key

DEFAULT_MODEL=gpt-4o-mini
SCENE_MODEL=gemini-2.5-flash
```

### Model Configuration
The platform supports multiple AI providers through the unified LLM interface:
- OpenAI models (GPT-4, GPT-4o-mini)
- Anthropic models (Claude)
- Google models (Gemini)
- Replicate models

## ğŸ¬ Sample Output

The platform generates complete project structures with:
- **Script Planning**: Structured scenes and shots
- **Character Assets**: Consistent character images and profiles
- **Location Assets**: Professional location renders
- **Audio Assets**: Custom voices and dialogue
- **Video Scenes**: Individual scene videos
- **Project Metadata**: Complete production information

## ğŸ”® Future Scope

### TO DO:
-Complete Automated Video Editing and Voice integration for each shot

### Planned Features
- **Advanced Video Assembly**: Complete automated film compilation


### Technical Improvements
- **Performance Optimization**: Faster generation times
- **Quality Enhancement**: Higher resolution outputs
- **Memory Management**: Optimized resource usage
- **Caching System**: Intelligent asset caching
- **Error Recovery**: Robust error handling and recovery

## ğŸ† Demo & Examples

*Demo videos and example outputs will be added here once available*

- [ ] Demo video showcasing complete workflow
- [ ] Sample generated short films
- [ ] Character consistency examples
- [ ] Location design showcases
- [ ] Voice design demonstrations

## ğŸ“„ License

This project is licensed under the MIT License - see the LICENSE file for details.

## ğŸ¤ Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

## ğŸ“ Support

For support and questions:
- Create an issue in the repository
- Contact the development team

---

**MiniStory-AI** - Transforming imagination into cinematic reality through the power of artificial intelligence.
